{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form');\nconst fragment = document.createDocumentFragment();\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst KEY = '42159131-e2480a23f0f5c24b1f6f03d93';\n\nconst options = {\n  overlayOpacity: 0.8,\n  captionsData: 'alt',\n  captionDelay: 250,\n};\n\nconst lightbox = new SimpleLightbox('.gallery a', options);\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  gallery.innerHTML = '';\n  const input = document.querySelector('input');\n  const inputValue = input.value.trim();\n\n  if (!inputValue) {\n    iziToast.warning({\n      message: 'You forgot to enter your details',\n    });\n  } else {\n    showLoader();\n    renderImg(inputValue);\n  }\n  input.value = '';\n});\n\nfunction renderImg(inputValue) {\n  const getBaseUrl = () => {\n    const url = new URL(BASE_URL);\n    url.searchParams.append('key', KEY);\n    url.searchParams.append('image_type', 'photo');\n    url.searchParams.append('orientation', 'horizontal');\n    url.searchParams.append('safesearch', true);\n    return url;\n  };\n\n  const url = getBaseUrl();\n  url.searchParams.append('q', inputValue);\n\n  fetch(url)\n    .then(response => response.json())\n    .then(images => {\n      const arrayImg = images.hits;\n\n      if (arrayImg.length > 0) {\n        render(arrayImg);\n      } else {\n        iziToast.warning({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          color: '#f83d04',\n        });\n      }\n    })\n\n    .catch(() => {\n      iziToast.warning({\n        message: 'Request failure',\n        color: '#f83d04',\n      });\n    });\n}\n\nfunction render(arrayImg) {\n  arrayImg.forEach(\n    ({\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    }) => {\n      const galleryItem = document.createElement('li');\n      galleryItem.classList.add('gallery-items');\n\n      galleryItem.insertAdjacentHTML(\n        'beforeend',\n        `<a class='gallery-link' href='${largeImageURL}'>\n          <img class='gallery-image' src='${webformatURL}' alt='${tags}' />\n          <ul class='gallery-ul'>\n          <li class='gallery-item'><h3 class='gallery-title'>Likes</h3><p class='gallery-value'>${likes}</p></li>\n          <li class='gallery-item'><h3 class='gallery-title'>Views</h3><p class='gallery-value'>${views}</p></li>\n          <li class='gallery-item'><h3 class='gallery-title'>Comments</h3><p class='gallery-value'>${comments}</p></li>\n          <li class='gallery-item'><h3 class='gallery-title'>Downloads</h3><p class='gallery-value'>${downloads}</p></li>\n        </ul>  \n        </a>`\n      );\n      fragment.appendChild(galleryItem);\n    }\n  );\n\n  showLoader();\n\n  gallery.appendChild(fragment);\n  lightbox.refresh();\n}\n\nfunction showLoader() {\n  if (loader.classList.contains('hide')) {\n    loader.classList.remove('hide');\n  } else {\n    loader.classList.add('hide');\n  }\n}\n"],"names":["form","fragment","gallery","loader","BASE_URL","KEY","options","lightbox","SimpleLightbox","event","input","inputValue","showLoader","renderImg","iziToast","url","response","images","arrayImg","render","webformatURL","largeImageURL","tags","likes","views","comments","downloads","galleryItem"],"mappings":"6vBAUA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAW,SAAS,yBACpBC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,2BACXC,EAAM,qCAENC,EAAU,CACd,eAAgB,GAChB,aAAc,MACd,aAAc,GAChB,EAEMC,EAAW,IAAIC,EAAe,aAAcF,CAAO,EAEzDN,EAAK,iBAAiB,SAAUS,GAAS,CACvCA,EAAM,eAAc,EAEpBP,EAAQ,UAAY,GACpB,MAAMQ,EAAQ,SAAS,cAAc,OAAO,EACtCC,EAAaD,EAAM,MAAM,KAAI,EAE9BC,GAKHC,IACAC,EAAUF,CAAU,GALpBG,EAAS,QAAQ,CACf,QAAS,kCACf,CAAK,EAKHJ,EAAM,MAAQ,EAChB,CAAC,EAED,SAASG,EAAUF,EAAY,CAU7B,MAAMI,GATa,IAAM,CACvB,MAAMA,EAAM,IAAI,IAAIX,CAAQ,EAC5B,OAAAW,EAAI,aAAa,OAAO,MAAOV,CAAG,EAClCU,EAAI,aAAa,OAAO,aAAc,OAAO,EAC7CA,EAAI,aAAa,OAAO,cAAe,YAAY,EACnDA,EAAI,aAAa,OAAO,aAAc,EAAI,EACnCA,CACX,KAGEA,EAAI,aAAa,OAAO,IAAKJ,CAAU,EAEvC,MAAMI,CAAG,EACN,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAU,CACd,MAAMC,EAAWD,EAAO,KAEpBC,EAAS,OAAS,EACpBC,EAAOD,CAAQ,EAEfJ,EAAS,QAAQ,CACf,QACE,2EACF,MAAO,SACjB,CAAS,CAET,CAAK,EAEA,MAAM,IAAM,CACXA,EAAS,QAAQ,CACf,QAAS,kBACT,MAAO,SACf,CAAO,CACP,CAAK,CACL,CAEA,SAASK,EAAOD,EAAU,CACxBA,EAAS,QACP,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACN,IAAU,CACJ,MAAMC,EAAc,SAAS,cAAc,IAAI,EAC/CA,EAAY,UAAU,IAAI,eAAe,EAEzCA,EAAY,mBACV,YACA,iCAAiCN;AAAA,4CACGD,WAAsBE;AAAA;AAAA,kGAEgCC;AAAA,kGACAC;AAAA,qGACGC;AAAA,sGACCC;AAAA;AAAA,aAGtG,EACMzB,EAAS,YAAY0B,CAAW,CACjC,CACL,EAEEf,IAEAV,EAAQ,YAAYD,CAAQ,EAC5BM,EAAS,QAAO,CAClB,CAEA,SAASK,GAAa,CAChBT,EAAO,UAAU,SAAS,MAAM,EAClCA,EAAO,UAAU,OAAO,MAAM,EAE9BA,EAAO,UAAU,IAAI,MAAM,CAE/B"}