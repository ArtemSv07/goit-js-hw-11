{"version":3,"file":"commonHelpers.js","sources":["../src/js/form.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n\nconst input = document.querySelector('input');\nconst form = document.querySelector('.form');\nconst fragment = document.createDocumentFragment();\nconst gallery = document.querySelector('.gallery');\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst KEY = '42159131-e2480a23f0f5c24b1f6f03d93';\n\nconst options = {\n  overlayOpacity: 0.8,\n  captionsData: 'alt',\n  captionDelay: 250,\n};\n\nconst lightbox = new SimpleLightbox('.gallery a', options);\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  gallery.innerHTML = `<span class=\"loader\"></span>`;\n\n  const inputValue = input.value.trim();\n\n  if (!inputValue) {\n    iziToast.warning({\n      message: 'You forgot to enter your details',\n    });\n  } else {\n    renderImg(inputValue);\n  }\n  input.value = '';\n});\n\nfunction renderImg(inputValue) {\n  const getBaseUrl = () => {\n    const url = new URL(BASE_URL);\n    url.searchParams.append('key', KEY);\n    return url;\n  };\n\n  const url = getBaseUrl();\n  url.searchParams.append('q', inputValue);\n\n  fetch(url)\n    .then(response => response.json())\n\n    .then(images => {\n      const arrayImg = images.hits;\n      if (arrayImg.length > 0) {\n        arrayImg.forEach(({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n          const galleryItem = document.createElement('li');\n          galleryItem.classList.add('gallery-item');\n\n          galleryItem.insertAdjacentHTML(\n            'beforeend',\n            `<a class=\"gallery-link\" href=\"${largeImageURL}\">\n              <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n              <div class=\"div\">\n              <p>likes ${likes}</p>\n              <p>views ${views}</p>\n              <p>comments ${comments}</p>\n              <p>downloads ${downloads}</p>\n              </div>\n            </a>`\n          );\n          fragment.appendChild(galleryItem);\n        });\n      } else {\n        iziToast.warning({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n      gallery.appendChild(fragment);\n    \n      lightbox.refresh();\n    });\n}\n"],"names":["input","form","fragment","gallery","BASE_URL","KEY","options","lightbox","SimpleLightbox","event","inputValue","renderImg","iziToast","url","response","images","arrayImg","webformatURL","largeImageURL","tags","likes","views","comments","downloads","galleryItem"],"mappings":"6vBAWA,MAAMA,EAAQ,SAAS,cAAc,OAAO,EACtCC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAW,SAAS,yBACpBC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAW,2BACXC,EAAM,qCAENC,EAAU,CACd,eAAgB,GAChB,aAAc,MACd,aAAc,GAChB,EAEMC,EAAW,IAAIC,EAAe,aAAcF,CAAO,EAEzDL,EAAK,iBAAiB,SAAUQ,GAAS,CACvCA,EAAM,eAAc,EAEpBN,EAAQ,UAAY,+BAEpB,MAAMO,EAAaV,EAAM,MAAM,KAAI,EAE9BU,EAKHC,EAAUD,CAAU,EAJpBE,EAAS,QAAQ,CACf,QAAS,kCACf,CAAK,EAIHZ,EAAM,MAAQ,EAChB,CAAC,EAED,SAASW,EAAUD,EAAY,CAO7B,MAAMG,GANa,IAAM,CACvB,MAAMA,EAAM,IAAI,IAAIT,CAAQ,EAC5B,OAAAS,EAAI,aAAa,OAAO,MAAOR,CAAG,EAC3BQ,CACX,KAGEA,EAAI,aAAa,OAAO,IAAKH,CAAU,EAEvC,MAAMG,CAAG,EACN,KAAKC,GAAYA,EAAS,MAAM,EAEhC,KAAKC,GAAU,CACd,MAAMC,EAAWD,EAAO,KACpBC,EAAS,OAAS,EACpBA,EAAS,QAAQ,CAAC,CAClB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY,CACF,MAAMC,EAAc,SAAS,cAAc,IAAI,EAC/CA,EAAY,UAAU,IAAI,cAAc,EAExCA,EAAY,mBACV,YACA,iCAAiCN;AAAA,gDACGD,WAAsBE;AAAA;AAAA,yBAE7CC;AAAA,yBACAC;AAAA,4BACGC;AAAA,6BACCC;AAAA;AAAA,iBAG7B,EACUrB,EAAS,YAAYsB,CAAW,CAC1C,CAAS,EAEDZ,EAAS,QAAQ,CACf,QACE,0EACZ,CAAS,EAEHT,EAAQ,YAAYD,CAAQ,EAE5BK,EAAS,QAAO,CACtB,CAAK,CACL"}