{"version":3,"file":"commonHelpers.js","sources":["../src/js/form.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n\n\nconst form = document.querySelector('.form');\nconst fragment = document.createDocumentFragment();\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader')\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst KEY = '42159131-e2480a23f0f5c24b1f6f03d93';\n\nconst options = {\n  overlayOpacity: 0.8,\n  captionsData: 'alt',\n  captionDelay: 250,\n};\n\nconst lightbox = new SimpleLightbox('.gallery a', options);\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  \n  \n\n  gallery.innerHTML = \"\";\n  const input = document.querySelector('input');\n  const inputValue = input.value.trim();\n\n  if (!inputValue) {\n    iziToast.warning({\n      message: 'You forgot to enter your details',\n    });\n  } else {\n    loader.classList.remove('hide')\n    renderImg(inputValue);\n  }\n  input.value = '';\n});\n\nfunction renderImg(inputValue) {\n  const getBaseUrl = () => {\n    const url = new URL(BASE_URL);\n    url.searchParams.append('key', KEY);\n    url.searchParams.append('image_type', 'photo');\n  url.searchParams.append('orientation', 'horizontal');\n  url.searchParams.append('safesearch', true);\n    return url;\n  };\n   \n  const url = getBaseUrl();\n  url.searchParams.append('q', inputValue);\n \n\n  fetch(url)\n    .then(response => response.json())\n    .then(images => {\n\n      const arrayImg = images.hits;\n\n     if (arrayImg.length > 0) {\n       rander(arrayImg)\n     } else {\n\n      iziToast.warning({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n          color: '#f83d04',  \n      });\n     }\n     \n      \n    })\n    .catch(error => {console.log(error)});\n    \n}\n\n\n\nfunction rander(arrayImg) {\n  \n    arrayImg.forEach(({\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  }) => {\n      const galleryItem = document.createElement('li');\n      galleryItem.classList.add('gallery-items');\n\n      galleryItem.insertAdjacentHTML(\n        'beforeend',\n        `<a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n          <ul class=\"gallery-ul\">\n          <li class=\"gallery-item\"><h3 class=\"gallery-title\">Likes</h3><p class=\"gallery-value\">${likes}</p></li>\n          <li class=\"gallery-item\"><h3 class=\"gallery-title\">Views</h3><p class=\"gallery-value\">${views}</p></li>\n          <li class=\"gallery-item\"><h3 class=\"gallery-title\">Comments</h3><p class=\"gallery-value\">${comments}</p></li>\n          <li class=\"gallery-item\"><h3 class=\"gallery-title\">Downloads</h3><p class=\"gallery-value\">${downloads}</p></li>\n        </ul>  \n        </a>`\n      );\n      fragment.appendChild(galleryItem);\n    });\n  \n    loader.classList.add('hide')\n  gallery.appendChild(fragment); \n  lightbox.refresh();\n}\n"],"names":["form","fragment","gallery","loader","BASE_URL","KEY","options","lightbox","SimpleLightbox","event","input","inputValue","renderImg","iziToast","url","response","images","arrayImg","rander","error","webformatURL","largeImageURL","tags","likes","views","comments","downloads","galleryItem"],"mappings":"6vBAYA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAW,SAAS,yBACpBC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,2BACXC,EAAM,qCAENC,EAAU,CACd,eAAgB,GAChB,aAAc,MACd,aAAc,GAChB,EAEMC,EAAW,IAAIC,EAAe,aAAcF,CAAO,EAEzDN,EAAK,iBAAiB,SAAUS,GAAS,CACvCA,EAAM,eAAc,EAIpBP,EAAQ,UAAY,GACpB,MAAMQ,EAAQ,SAAS,cAAc,OAAO,EACtCC,EAAaD,EAAM,MAAM,KAAI,EAE9BC,GAKHR,EAAO,UAAU,OAAO,MAAM,EAC9BS,EAAUD,CAAU,GALpBE,EAAS,QAAQ,CACf,QAAS,kCACf,CAAK,EAKHH,EAAM,MAAQ,EAChB,CAAC,EAED,SAASE,EAAUD,EAAY,CAU7B,MAAMG,GATa,IAAM,CACvB,MAAMA,EAAM,IAAI,IAAIV,CAAQ,EAC5B,OAAAU,EAAI,aAAa,OAAO,MAAOT,CAAG,EAClCS,EAAI,aAAa,OAAO,aAAc,OAAO,EAC/CA,EAAI,aAAa,OAAO,cAAe,YAAY,EACnDA,EAAI,aAAa,OAAO,aAAc,EAAI,EACjCA,CACX,KAGEA,EAAI,aAAa,OAAO,IAAKH,CAAU,EAGvC,MAAMG,CAAG,EACN,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAU,CAEd,MAAMC,EAAWD,EAAO,KAErBC,EAAS,OAAS,EACpBC,EAAOD,CAAQ,EAGhBJ,EAAS,QAAQ,CACf,QACE,2EACA,MAAO,SACjB,CAAO,CAIP,CAAK,EACA,MAAMM,GAAS,CAAC,QAAQ,IAAIA,CAAK,CAAC,CAAC,CAExC,CAIA,SAASD,EAAOD,EAAU,CAEtBA,EAAS,QAAQ,CAAC,CAClB,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACJ,IAAQ,CACF,MAAMC,EAAc,SAAS,cAAc,IAAI,EAC/CA,EAAY,UAAU,IAAI,eAAe,EAEzCA,EAAY,mBACV,YACA,iCAAiCN;AAAA,4CACGD,WAAsBE;AAAA;AAAA,kGAEgCC;AAAA,kGACAC;AAAA,qGACGC;AAAA,sGACCC;AAAA;AAAA,aAGtG,EACMzB,EAAS,YAAY0B,CAAW,CACtC,CAAK,EAEDxB,EAAO,UAAU,IAAI,MAAM,EAC7BD,EAAQ,YAAYD,CAAQ,EAC5BM,EAAS,QAAO,CAClB"}